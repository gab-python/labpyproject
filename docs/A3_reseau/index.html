<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.21.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="fr" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9YF4SDCZF8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9YF4SDCZF8');
</script>

<!-- begin _includes/seo.html --><title>JEU &gt; réseau (expérimental) - Documentation du projet labpyproject</title>
<meta name="description" content="Un jeu de labyrinthe en python 3, des développements génériques et un retour d’expérience sur des questions techniques.">


  <meta name="author" content="Gabriel Leroy">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="fr_FR">
<meta property="og:site_name" content="Documentation du projet labpyproject">
<meta property="og:title" content="JEU &gt; réseau (expérimental)">
<meta property="og:url" content="http://localhost:4000/labpyproject/A3_reseau/">


  <meta property="og:description" content="Un jeu de labyrinthe en python 3, des développements génériques et un retour d’expérience sur des questions techniques.">



  <meta property="og:image" content="http://localhost:4000/labpyproject/assets/images/fond_jeu_s0004.png">









  

  


<link rel="canonical" href="http://localhost:4000/labpyproject/A3_reseau/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Gabriel Leroy",
      "url": "http://localhost:4000/labpyproject/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/labpyproject/feed.xml" type="application/atom+xml" rel="alternate" title="Documentation du projet labpyproject Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/labpyproject/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/labpyproject/">
          Documentation du projet labpyproject
          <span class="site-subtitle">Partage d'expérience autour du développement, de l'optimisation et de la distribution d'un jeu d'arcade en python.</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/labpyproject/A_jeu/">LE JEU</a>
            </li><li class="masthead__menu-item">
              <a href="/labpyproject/B_projet/">LE PROJET</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero--overlay"
  style=" background-image: url('/labpyproject/assets/images/fond_jeu_s0004.png');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          JEU &gt; réseau (expérimental)

        
      </h1>
      
        <p class="page__lead">
</p>
      
      


      
      
    </div>
  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <a href="/labpyproject/A1_installation/"><span class="nav__sub-title">Installation</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/labpyproject/A2_standalone/"><span class="nav__sub-title">Standalone (stable)</span></a>
        

        
      </li>
    
      <li>
        
          <span class="nav__sub-title">> Réseau (expérimental)</span>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="JEU &gt; réseau (expérimental)">
    <meta itemprop="description" content="">
    
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
        <p>Lancer l’application serveur de LabPyrinthe sur une machine. Une simple console apparait:</p>

<p><img src="/labpyproject/assets/images/svr_1.png" alt="serveur init" class="align-center" /></p>

<p>En bas s’affiche l’adresse et le statut de connexion du serveur, en l’occurrence</p>
<ul>
  <li>192.168.0.4:10325 pour l’adresse au format ip:port</li>
  <li>Connecté pour le statut</li>
</ul>

<p>L’ip est déterminée par le réseau, le port est ici défini dans le fichier de configuration texte du jeu (tcp_config.txt de raccourci Config dans la liste de programmes): <code class="language-plaintext highlighter-rouge">host=192.168.0.4&amp;port=10325</code>. Sans cette configuration, le port est choisi aléatoirement dans la plage 10000-20000.</p>

<div class="notice--warning">
  <h4 class="no_toc">Attention:</h4>
  
<p>N’affectez pas de numéro de port dans la plage 0-2000 (réservée au système).</p>

</div>

<p>Après avoir modifié le fichier de configuration réseau sur deux machines on lance deux clients:</p>

<p><img src="/labpyproject/assets/images/svr_2.png" alt="1 client" class="align-center" /></p>

<p><img src="/labpyproject/assets/images/svr_3.png" alt="2 clients" class="align-center" /></p>

<p>En haut le serveur liste les clients et leur statut. Il indique le nombre de requêtes échangées avec chaque client.
En bas la zone consacrée au jeu indique qu’aucune partie n’a encore été créée.</p>

<p>Après chargement et connexion au serveur, les clients affichent le menu.</p>

<p><img src="/labpyproject/assets/images/clt_1.png" alt="menu" class="align-center" /></p>

<div class="notice--info">
  <h4 class="no_toc">Remarque:</h4>
  
<p>En bas de l’interface du client, son adresse et celle du serveur ainsi que leurs statuts sont affichés. Des flèches de couleur (vert, orange, rouge) indiquent l’état de la communication bilatérale.</p>

</div>

<p>Le premier client faisant un choix de partie ou de démo, lance la création du jeu. Dans cet exemple un des deux clients choisit de lancer une partie de niveau 3. Le serveur la créée:</p>

<p><img src="/labpyproject/assets/images/svr_4.png" alt="creation" class="align-center" /></p>

<p>Les clients la chargent:</p>

<p><img src="/labpyproject/assets/images/clt_2.png" alt="charge partie" class="align-center" /></p>

<p>Puis affichent l’écran de démarrage suivant:</p>

<p><img src="/labpyproject/assets/images/clt_3.png" alt="debut" class="align-center" /></p>

<p>Tant qu’aucun client n’a démarré le jeu, d’autres clients peuvent se connecter et devenir de nouveaux joueurs de la partie. Une fois la partie démarrée, les nouveaux connectés seront seulement spectateurs.</p>

<p>Lorsqu’un client démarre le jeu, la liste des joueurs est triée aléatoirement et le jeu commence.</p>

<p><img src="/labpyproject/assets/images/clt_4.png" alt="jeu" class="align-center" /></p>

<p>Le fonctionnement est identique à la version standalone à la différence près que l’on ne peut pas interrompre le jeu (partie ou démo). Le retour au menu est désactivé. Il faut attendre la fin du jeu pour choisir une nouvelle partie.</p>

<p>L’interface du serveur donne des indications sur le déroulement du jeu:</p>

<p><img src="/labpyproject/assets/images/svr_5.png" alt="infos" class="align-center" /></p>

<p>Jusqu’à ce que la partie s’achève:</p>

<p><img src="/labpyproject/assets/images/svr_6.png" alt="fin" class="align-center" /></p>

<p><img src="/labpyproject/assets/images/clt_5.png" alt="fin client" class="align-center" /></p>

<p>Quelques instants plus tard, tous les clients retourneront au menu.</p>

<div class="notice--info">
  <h4 class="no_toc">Remarques:</h4>
  
<ul>
  <li>Le mode client/serveur du jeu pourrait être grandement amélioré. En l’état il est surtout une application concrète des développements génériques TCP.</li>
  <li>En mode réseau, l’exécution du jeu est plus lente. Ceci pour deux raisons :
    <ul>
      <li>Le serveur vérifie la synchronisation de chacun des clients avant de passer à l’action suivante.</li>
      <li>Les requêtes sont pour une bonne part effectuées avec accusé de réception (ce qui ralentit de fait les échanges). Le fait que les requêtes soient envoyées séquentiellement (client par client) dans ce prototype de framework client/serveur est une autre source de ralentissement.</li>
    </ul>
  </li>
  <li>Dans cette implémentation du jeu en réseau le principe des échanges est « peu de données échangées mais beaucoup de requêtes ». Le nombre de requêtes est lié à une recherche de « qualité de service » et à la problématique de synchronisation des clients. On peut remarquer qu’à la fin de la partie, clients et serveur ont envoyé plus de 750 requêtes chacun.</li>
</ul>

</div>


        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/gab-python/labpyproject" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    
    <!--
    <li><a href="/labpyproject/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    -->
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 - Gabriel Leroy - Licence GPL. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/labpyproject/assets/js/main.min.js"></script>










  </body>
</html>
